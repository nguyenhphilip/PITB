<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.542">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-04-15">

<title>Phil in the Blank - Purpose we have a problem</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../photos/favicon.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta name="twitter:title" content="Phil in the Blank - Purpose we have a problem">
<meta name="twitter:description" content="and it’s you (sometimes)">
<meta name="twitter:creator" content="@NguyenHPhil">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="fullcontent">

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Purpose we have a problem</h1>
<p class="subtitle lead">and it’s you (sometimes)</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 15, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>Phil</strong>: Hey doc. Good to see you again. It’s been a minute. Your hair’s looking great by the way.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Thanks. You always say that you know, so let me remind you that I do in fact just wake up like this.</p>
<p><strong>Phil</strong>: Millions around the world envy you doc, including yours truly. Anyways, enough with the small talk. I got a problem. I keep trying to get back together with Purpose.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Again?</p>
<p><strong>Phil</strong>: Yeah. I’ve been feeling extra lost and lonely, so I thought I might call him and see what happens.</p>
<p><strong>Dr.&nbsp;Phil</strong>: And? What happened?</p>
<p><strong>Phil</strong>: <em>Sigh.</em> You know, the usual roundabout stuff. We talk, even flirt and tease each other a bit, for old times sake. Well, one thing leads to the next and before you know it, he’s luring me out of my mild existence again with an ecstatic vision of what my life could be!</p>
<p>I try to resist and remind myself that my life is pretty good, but it’s no use. In the end I take the bait and bite. I fall hard and chase after him as if he were the answer to all my dissatisfactions. Meanwhile the rest of my life falls apart, deepening my need for him. “If I don’t find him,” my brain tells me, “then I’ll have nothing. I’ll be nothing. And life won’t be worth living.”</p>
<p><strong>Dr.&nbsp;Phil</strong>: Whoa, okay. That last part is new.</p>
<p><strong>Phil</strong>: Yeah. It’s scary. But I can’t stop looking for him. It will only compound the shame I feel for continuing to remain Purposeless. What will people think of me after ignoring them for so long to continue my fruitless searching? I just can’t—I won’t stop until Purpose is a part of my life.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Have you ever watched Lord of the Rings?</p>
<p><strong>Phil</strong>: Yeah, of course. I binged all of the movies once when I was in a depressed funk. Why?</p>
<p><strong>Dr.&nbsp;Phil</strong>: Because you sound like Gollum right now, that twisted little hobbit who turned crazy because of his obsession with the ring.</p>
<p><strong>Phil</strong>: Ah, that guy. Totally relatable. MY PRECIOUS, MY PURPOSE.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Don’t ever do that finger-clicking thing again. And stop cackling like that. It’s creepy.</p>
<p><strong>Phil</strong>: I KNOW DOC. I know. It’s bad. You gotta help me out.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Come back in a week. I’ll have a treatment plan by then. In the meantime cool it on the Lord of the Rings.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F918658b4-8f0e-42d6-8a29-03d597928133_500x552.jpeg" class="img-fluid figure-img"></p>
<figcaption>My precious…</figcaption>
</figure>
</div>
<hr>
<p><strong>Phil</strong>: Hey doc.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Welcome back Phil. Let’s get to it. How are your relationships?</p>
<p><strong>Phil</strong>: Hang on doc. I thought we were going to solve my Purpose problem. How are my relationships relevant?</p>
<p><strong>Dr.&nbsp;Phil</strong>: Well, sometimes people go looking for Purpose when what they’re really suffering from is a deep form of loneliness, existential or otherwise. You mentioned last week that this is something your struggling with, so that’s where we’ll start. Do you have people in your life who you feel close with? Family? Friends?</p>
<p><strong>Phil</strong>: Admittedly, no. My parents and siblings live across the country. I have a few friends, but none that I feel close with. Sometimes I get drinks with Bobby and Bibi, but I don’t really open up to them about anything in particular. There’s my cat, Georgia, who I love dearly, though it’s never clear how she feels about me. Cats, you know how they are. Oh—and don’t even get me started on dating in the 21st century. It’s a minefield destined for recurring heartbreak.</p>
<p><strong>Dr.&nbsp;Phil</strong>: I’m sure Georgia loves you very much. Say more about Bobby and Bibi though. Why don’t you open up to them?</p>
<p><strong>Phil</strong>: I’m afraid of what they’ll think of me, especially if I let my true colors show. Exhibit A: I can be both hypercritical and extremely sensitive. Exhibit B: I spend most of my time meditating, daydreaming, reading books I struggle to understand, walking around the city without aim. Exhibit C: small talk bothers me to no end.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Have you tried opening up to them before? How does it feel?</p>
<p><strong>Phil</strong>: Sort of. I joked to Bobby the other day that my default expectation in forming new relationships is disappointment. Isn’t that sad doc?</p>
<p><strong>Dr.&nbsp;Phil</strong>: That’s a vulnerable sentiment, more than some people allow themselves to be. How did he respond?</p>
<p><strong>Phil</strong>: He… he looked at me with what seemed like genuine concern and asked me to say more about it.</p>
<p><strong>Dr.&nbsp;Phil</strong>: And? What did you say?</p>
<p><strong>Phil</strong>: I changed the subject! It was hard for me to go deeper than that. I’ve always been able to intellectualize how I feel, but expressing the emotional side of things remains a struggle, partially because it’s not always clear what I even want to say. There’s a wall that comes up whenever I’m on the verge of a breakthrough. In the end I must come off like a mute bimbo.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Do you feel safe and welcomed around Bobby?</p>
<p><strong>Phil</strong>: Sometimes. I mean, he’s not always the most attentive person, which annoys me. He’ll ask me a question and then get distracted by a woman or something else, treating what I say like mere entertainment, a way of passing the time. I feel unheard as a result. My response is to retreat into myself, but I can’t do that for too long, otherwise I start to feel isolated again.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Have you told him any of what you just told me?</p>
<p><strong>Phil</strong>: Hell no! What’s the point if he isn’t going to listen?</p>
<p><strong>Dr.&nbsp;Phil</strong>: Well, he might. Consider the possibility that he’s grown accustomed to your squirminess as it relates to opening up. When he expressed genuine concern about your expected disappointment in new relationships, you said you changed the subject, right? I’m sure he does get distracted from time to time when you speak, but it’s also possible that he’s used to you distracting yourself from the heart of the matter. Perhaps he’s come to expect that you won’t open up and be authentic with him, so why should he be fully attentive?</p>
<p><strong>Phil</strong>: Well… ouch, but that’s very possible.</p>
<p><strong>Dr.&nbsp;Phil</strong>: I’m not saying this is exactly what’s happening, but I do want to put the ball back in your court.</p>
<p><strong>Phil</strong>: So how does this all relate to Purpose?</p>
<p><strong>Dr.&nbsp;Phil</strong>: Sometimes people overlook the small things they need to focus on when they’re fixated on Purpose, even though the small things may be just as important. In fact, they might be more important depending on the situation. Let’s call the “small” things little-p purposes.</p>
<p>Big Purpose can get in the way of your little-p purposes by acting as a device of wish-fulfillment, a fantasy that you indulge yourself in when you don’t want to deal with what’s in front of you. Regarding Bobby, it sounds like he really wanted to get to know you, but you shied away from the opportunity. You shielded yourself from him. You avoided the task that was presented to you.</p>
<p><strong>Phil</strong>: Are you saying that connecting with Bobby was my little-p purpose in that moment?</p>
<p><strong>Dr.&nbsp;Phil</strong>: Precisely. It’s not as sexy as unlocking the secrets of the universe or becoming a Pulitzer-winning fantasy novelist. But it was what life had asked of you right then and there. Life presents us with opportunities to improve the world all the time, often beginning with ourselves. We may recognize that our health isn’t doing so hot, that our social lives are non-existent, that we hate our jobs. Well, that recognition is Purpose speaking to us. It’s letting us know that something needs to change, something very immediately connected to our lives, right in that moment.</p>
<p><strong>Phil</strong>: I get where you’re going doc. All of that stuff is so boring though. How does any of it relate to finding Purpose?</p>
<p><strong>Dr.&nbsp;Phil</strong>: If Purpose knocked on your door tomorrow and gave himself to you, what would you do with him? Would you know how to listen, how to respond with skill and grace? Would he flourish in your life as it currently stands? What I’m about to say might be too woo-y for you, but I believe that Purpose will reveal himself to you when you’re ready. And he’ll know that you’re ready when he sees that you can take care of your little-p purposes.</p>
<p><strong>Phil</strong>: I take your point.</p>
<p><strong>Dr.&nbsp;Phil</strong>: When I was younger I also had a problem with Purpose. I felt that I wanted to create something great that would inspire and change people’s lives, but mine wasn’t in great shape. I had to focus on my life first before Purpose could reveal himself to me. Otherwise I would have just fucked it all up. This meant that I had to work with my unoriginal thoughts and ideas, to write with what I knew then, which was close to nothing. But you don’t need much to work with what you got. You simply start from where you are. I also learned, perhaps too late, that I needed good friends, people who I could go deep with, people I could trust to stick around for the ups and downs, people who I truly enjoyed being around.</p>
<p>None of it was easy, but it did feel purposeful—making friends and building friendships, writing every day. Even my boring day job took on a new feeling of purpose as soon as I started focusing on what I could do rather than what I couldn’t, on the problems no one else seemed to notice. All of my efforts eventually led me to other pursuits and job opportunities, to significant people, but I never could have predicted any of it had I remained fixated on finding Purpose.</p>
<p><strong>Phil</strong>: You make it sound so easy.</p>
<p><strong>Dr.&nbsp;Phil</strong>: It’s really quite simple, but not always easy. In fact it only gets harder. As you become more purposeful and capable, the share of your responsibilities is increased. Life asks more of you the more you continue to serve it because it knows you can handle it. It needs you, just as much as you need it. Certain pleasures may be lost in the process, but the depth, variety, and richness of your life more than makes up for what at first seems like a loss.</p>
<p><strong>Phil</strong>: Did you ever do it then? Did you ever write something that changed the world?</p>
<p><strong>Dr.&nbsp;Phil</strong>: Well, not exactly in the ways I imagined as a kid. I grew to enjoy writing, and others enjoyed what I wrote. But I never got a book deal. I never published a best-selling novel. Still, I’ve managed to write for my blog over the past few decades, and that’s felt like enough.</p>
<p><strong>Phil</strong>: And it’s led you to people like me, ha. Loonies who just can’t seem to eat their veggies and appreciate their friends at the same time.</p>
<p><strong>Dr.&nbsp;Phil</strong>: Right. And I wouldn’t give any of this up for anything. I’ll see you next week.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>